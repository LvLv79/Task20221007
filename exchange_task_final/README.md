# 三、兑换站识别
## 1.功能介绍
本套代码用于兑换站角点检测识别
---
## 2.整体框架
本套代码分为三大部分
第一部分：图像处理（class init）
第二部分：角点轮廓识别(class Exchange）
第三部分：第一次标定（class ArmorBox）
第四部分：第二次标定（class sort）

---
## 3.实现方案  
一、**图像处理（class init）**
通过颜色通道相减得到灰度图，再进行腐蚀膨胀的操作

二、**角点轮廓识别(class Exchange）**
通过面积和旋转矩形长宽比筛选得到目标四个轮廓

三、**第一次标定（class ArmorBox）**
①将四个点的x，y坐标值之和相加得到数组，通过求自定义函数求最大值与最小值的元素在速度中的位置极为该点在vector point里面的位置。相加值最小的为左上点tl，
相加值最大的为右下点br。
②分别求出剩下两个点A,B和左上点的向量，并进行A与B叉乘，若得到的结果为负则A点为右上，B点为左下，若结果为正则相反。
将角点轮廓中心点标定结果拟合成一个大矩形，并算出中心点。

四、**第二次标定（class sort）**
接下来将图像识别步骤中识别到角点的四个轮廓便利并计算与上一步得到的中心点的距离，找出距离最大的这个点为新的角点，从此获得四个角点，并按照上面同样的方法进行标定，传入solvepnp解算。

